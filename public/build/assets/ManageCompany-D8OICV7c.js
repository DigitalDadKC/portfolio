import{g as S,u as j,s as E,i as n,c as p,o as i,a as o,w as l,e as u,b as r,t as c,d as O,k as g,m as P}from"./app-B36-XCD0.js";import{P as I}from"./PrimaryButton-CEhAluKe.js";import{_ as R}from"./SecondaryButton-BY0miM6g.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const T={class:"px-2 py-1 text-center"},A={key:0,class:"text-red-400"},D={key:0,class:"text-red-400"},F={key:0,class:"text-red-400"},M={key:0,class:"text-red-400"},W={key:0,class:"text-red-400"},Z={key:0,class:"text-red-400"},q={key:0,class:"text-red-400"},Q={__name:"ManageCompany",props:{company:Object,states:Object},setup(y){const d=y,_=S(!1),s=j({id:d.company.id,name:d.company.name,address:d.company.address,city:d.company.city,state_id:d.company.state.id,zip:d.company.zip,logo:d.company.logo,terms:d.company.terms}),f=E(()=>{var t;return(t=s.logo.type)!=null&&t.startsWith("image")?URL.createObjectURL(s.logo):s.logo}),V=t=>{s.logo=t.target.files[0]},$=()=>{s.post(route("companies.update",s.id),{_method:"put",onSuccess:()=>{_.value=!1}})};return(t,e)=>{const b=n("v-icon"),v=n("v-text-field"),m=n("v-col"),k=n("v-select"),C=n("v-img"),U=n("v-file-input"),w=n("v-textarea"),x=n("v-row"),z=n("v-card-text"),N=n("v-card-actions"),B=n("v-card"),L=n("v-dialog");return i(),p("div",T,[o(L,{modelValue:_.value,"onUpdate:modelValue":e[9]||(e[9]=a=>_.value=a),"max-width":"1000","max-height":"1000"},{activator:l(({props:a})=>[o(b,P({size:"large"},a),{default:l(()=>e[10]||(e[10]=[g("mdi-cog-outline",-1)])),_:2,__:[10]},1040)]),default:l(()=>[o(B,{"prepend-icon":"mdi-cog",title:`Edit User: ${d.company.name}`},{default:l(()=>[o(z,null,{default:l(()=>[o(x,{"no-gutters":""},{default:l(()=>[o(m,{cols:"12"},{default:l(()=>[o(v,{density:"compact",label:"Name",modelValue:r(s).name,"onUpdate:modelValue":e[0]||(e[0]=a=>r(s).name=a)},null,8,["modelValue"]),t.$page.props.errors.name?(i(),p("div",A,c(t.$page.props.errors.name),1)):u("",!0)]),_:1}),o(m,{cols:"12"},{default:l(()=>[o(v,{density:"compact",label:"Address",modelValue:r(s).address,"onUpdate:modelValue":e[1]||(e[1]=a=>r(s).address=a)},null,8,["modelValue"]),t.$page.props.errors.address?(i(),p("div",D,c(t.$page.props.errors.address),1)):u("",!0)]),_:1}),o(m,{cols:"12",md:"6"},{default:l(()=>[o(v,{density:"compact",label:"City",modelValue:r(s).city,"onUpdate:modelValue":e[2]||(e[2]=a=>r(s).city=a)},null,8,["modelValue"]),t.$page.props.errors.city?(i(),p("div",F,c(t.$page.props.errors.city),1)):u("",!0)]),_:1}),o(m,{cols:"12",md:"3"},{default:l(()=>[o(k,{density:"compact",modelValue:r(s).state_id,"onUpdate:modelValue":e[3]||(e[3]=a=>r(s).state_id=a),items:d.states,label:"State","item-title":"state","item-value":"id","auto-select-first":"",clearable:""},null,8,["modelValue","items"]),t.$page.props.errors.state_id?(i(),p("div",M,c(t.$page.props.errors.state_id),1)):u("",!0)]),_:1}),o(m,{cols:"12",md:"3"},{default:l(()=>[o(v,{density:"compact",label:"Zip",modelValue:r(s).zip,"onUpdate:modelValue":e[4]||(e[4]=a=>r(s).zip=a)},null,8,["modelValue"]),t.$page.props.errors.zip?(i(),p("div",W,c(t.$page.props.errors.zip),1)):u("",!0)]),_:1}),o(m,{cols:"12"},{default:l(()=>[o(C,{density:"compact",label:"Logo",height:"255",src:f.value},null,8,["src"]),t.$page.props.errors.logo?(i(),p("div",Z,c(t.$page.props.errors.logo),1)):u("",!0),o(U,{"show-size":"",type:"file",accept:"image/*",label:"Company Logo",onInput:e[5]||(e[5]=a=>V(a))})]),_:1}),o(m,{cols:"12",class:"overflow-y-auto"},{default:l(()=>[e[11]||(e[11]=O("div",{class:"text-xl font-bold text-center uppercase"},"Terms & Conditions",-1)),o(w,{modelValue:r(s).terms,"onUpdate:modelValue":e[6]||(e[6]=a=>r(s).terms=a),density:"compact",rows:"12","hide-details":"",class:"overflow-y-auto"},null,8,["modelValue"]),t.$page.props.errors.terms?(i(),p("div",q,c(t.$page.props.errors.terms),1)):u("",!0)]),_:1,__:[11]})]),_:1})]),_:1}),o(N,null,{default:l(()=>[o(R,{onClick:e[7]||(e[7]=a=>{_.value=!1,r(s).reset(),r(s).clearErrors()})},{default:l(()=>e[12]||(e[12]=[g("Cancel",-1)])),_:1,__:[12]}),o(I,{onClick:e[8]||(e[8]=a=>{t.loading=!t.loading,$()})},{default:l(()=>e[13]||(e[13]=[g("Save",-1)])),_:1,__:[13]})]),_:1})]),_:1},8,["title"])]),_:1},8,["modelValue"])])}}};export{Q as default};
