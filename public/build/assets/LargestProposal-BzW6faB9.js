import{u as v}from"./useFormatCurrency-C2nvWDUD.js";import{g,i as b,c as h,o as k,d as e,a as j,w as q,k as w,t as i,b as y,f as D}from"./app-B36-XCD0.js";const C={class:"relative"},P={class:"p-3 bg-white inline-flex border-2 rounded-lg border-light-quatrenary dark:border-dark-quatrenary absolute -top-6 left-0"},Y={class:"font-normal text-gray-700 dark:text-gray-400 py-0.5"},B={class:"font-normal text-gray-700 dark:text-gray-400 py-0.5"},E={class:"font-normal text-gray-700 dark:text-gray-400 py-0.5"},M={class:"font-normal text-gray-700 dark:text-gray-400 py-0.5"},N={class:"font-normal text-gray-700 dark:text-gray-400 py-0.5"},L={__name:"LargestProposal",props:{jobs:Object},setup(m){const{formatWithCommas:f}=v(),u=m,l=g([]),o=g([]);return l.value=u.jobs[0],o.value=l.value.proposals[0],u.jobs.forEach(p=>{p.proposals.forEach(t=>{var n;t.scopes.reduce((s,r)=>s+r.lines.reduce((c,a)=>c+a.price*a.quantity,0),0)>(((n=o.value)==null?void 0:n.scopes.reduce((s,r)=>s+r.lines.reduce((c,a)=>c+a.price*a.quantity,0),0))??0)&&(l.value=p,o.value=t)})}),(p,t)=>{var n,s,r;const d=b("v-icon");return k(),h("div",C,[e("div",P,[j(d,{size:"x-large"},{default:q(()=>t[0]||(t[0]=[w("mdi-arrow-up-bold",-1)])),_:1,__:[0]})]),t[1]||(t[1]=e("div",{class:"pl-16"},[e("h5",{class:"my-2 text-2xl font-bold tracking-tight text-gray-900 dark:text-white"},"Largest Proposal")],-1)),e("ul",null,[e("li",Y," Job #: "+i(l.value.number),1),e("li",B," Proposal: "+i((n=o.value)==null?void 0:n.name),1),e("li",E," Scopes: "+i((s=o.value)==null?void 0:s.scopes.length),1),e("li",M," Project Amount: "+i(y(f)((r=o.value)==null?void 0:r.scopes.reduce((c,a)=>c+a.lines.reduce((x,_)=>x+_.price*_.quantity,0),0),"currency")),1),e("li",N," Date "+i(y(D)(l.value.created_at,"MMM DD, YYYY")),1)])])}}};export{L as default};
