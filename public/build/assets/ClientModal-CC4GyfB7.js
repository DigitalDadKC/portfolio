import{g as U,u as j,i,j as f,o as m,w as l,a,d as v,b as s,c as y,e as V,t as g,k as p,n as w,m as C}from"./app-B36-XCD0.js";import{P as _}from"./PrimaryButton-CEhAluKe.js";import{_ as P}from"./SecondaryButton-BY0miM6g.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const M={key:0,class:"text-red-400"},z={key:0,class:"text-red-400"},D={class:"flex justify-between p-4"},F={class:"flex gap-4"},G={__name:"ClientModal",props:{new:Boolean,client:Object},setup(k){const n=k,d=U(!1),o=j({id:n.client.id,name:n.client.name,company:n.client.company,email:n.client.email}),$=()=>{n.new?o.post(route("clients.store"),{onSuccess:()=>{d.value=!1,o.reset()}}):o.patch(route("clients.update",o.id),{onSuccess:()=>{d.value=!1}})},b=()=>{o.post(route("outreach"),{onSuccess:()=>{d.value=!1,o.reset()}})};return(r,e)=>{const x=i("v-icon"),u=i("v-text-field"),c=i("v-col"),N=i("v-row"),B=i("v-card-text"),E=i("v-card"),S=i("v-dialog");return m(),f(S,{modelValue:d.value,"onUpdate:modelValue":e[6]||(e[6]=t=>d.value=t),"max-width":"800"},{activator:l(({props:t})=>[n.new?(m(),f(_,w(C({key:0},t)),{default:l(()=>e[7]||(e[7]=[p("New Client",-1)])),_:2,__:[7]},1040)):(m(),f(x,w(C({key:1},t)),{default:l(()=>e[8]||(e[8]=[p("mdi-cog",-1)])),_:2,__:[8]},1040))]),default:l(()=>[a(E,{"prepend-icon":"mdi-office-building",title:n.new?"New Client":`Edit Client: ${n.client.name}`},{default:l(()=>[a(B,null,{default:l(()=>[a(N,null,{default:l(()=>[a(c,{cols:"12"},{default:l(()=>[a(u,{density:"compact",modelValue:s(o).name,"onUpdate:modelValue":e[0]||(e[0]=t=>s(o).name=t),"hide-details":"",label:"Name"},null,8,["modelValue"])]),_:1}),a(c,{cols:"12"},{default:l(()=>[a(u,{density:"compact",modelValue:s(o).company,"onUpdate:modelValue":e[1]||(e[1]=t=>s(o).company=t),"hide-details":"",label:"Company *"},null,8,["modelValue"]),r.$page.props.errors.company?(m(),y("div",M,g(r.$page.props.errors.company),1)):V("",!0)]),_:1}),a(c,{cols:"12"},{default:l(()=>[a(u,{density:"compact",modelValue:s(o).email,"onUpdate:modelValue":e[2]||(e[2]=t=>s(o).email=t),"hide-details":"",label:"Email *"},null,8,["modelValue"]),r.$page.props.errors.email?(m(),y("div",z,g(r.$page.props.errors.email),1)):V("",!0)]),_:1})]),_:1})]),_:1}),v("div",D,[a(_,{onClick:e[3]||(e[3]=t=>b())},{default:l(()=>e[9]||(e[9]=[p("Email",-1)])),_:1,__:[9]}),v("div",F,[a(P,{onClick:e[4]||(e[4]=t=>{d.value=!1,s(o).reset(),s(o).clearErrors()})},{default:l(()=>e[10]||(e[10]=[p("Cancel",-1)])),_:1,__:[10]}),a(_,{onClick:e[5]||(e[5]=t=>{r.loading=!r.loading,$()})},{default:l(()=>e[11]||(e[11]=[p("Save",-1)])),_:1,__:[11]})])])]),_:1},8,["title"])]),_:1},8,["modelValue"])}}};export{G as default};
