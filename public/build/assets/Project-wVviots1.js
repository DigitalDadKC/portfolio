import{u as C,s as S,v as A,i as m,c as E,o as u,a as l,b as a,h as F,w as n,d as i,x as I,k as c,j as b,t as O,F as R,q as V}from"./app-B36-XCD0.js";import{_ as D}from"./AuthenticatedLayout-BW7mGHD6.js";import{P as g}from"./PrimaryButton-CEhAluKe.js";import{_ as p}from"./InputError-DCzxWdaQ.js";import{_ as M}from"./InputLabel-CCUe8WEK.js";import"./ApplicationLogo-DNSwl_t2.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./NavLink-BrQt31dZ.js";const q={class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight text-center"},T={class:"py-12"},W={class:"max-w-md mx-auto sm:px-6 lg:px-8"},z={class:"flex items-center justify-end mt-4"},ee={__name:"Project",props:{new:Boolean,skills:Array,project:Object,errors:Object,options:Array},setup(x){var _,v,f,j,k,y;const o=x,e=C({name:(_=o.project)==null?void 0:_.name,description:(v=o.project)==null?void 0:v.description,image:(f=o.project)==null?void 0:f.image,skills:(j=o.project)==null?void 0:j.skills,project_url:(k=o.project)==null?void 0:k.project_url,active:!!((y=o.project)!=null&&y.active)}),w=S(()=>{var s,t;return(t=(s=e.image)==null?void 0:s.type)!=null&&t.startsWith("image")?URL.createObjectURL(e.image):e.image}),U=s=>{e.image=s.target.files[0]},P=()=>{o.new?V.post(route("projects.store"),{name:e.name,description:e.description,image:e.image,skills:e.skills,project_url:e.project_url,active:e.active}):V.post(route("projects.update",o.project.id),{_method:"put",name:e.name,description:e.description,image:e.image,skills:e.skills,project_url:e.project_url,active:e.active})};return A(()=>{var s;(s=o.project)!=null&&s.skills.length&&(e.skills=e.skills.map(t=>t.id))}),(s,t)=>{const $=m("v-select"),d=m("v-text-field"),B=m("v-img"),L=m("v-checkbox"),N=m("v-file-input"),h=m("Link");return u(),E(R,null,[l(a(F),{title:o.new?"New Project":"Edit Project"},null,8,["title"]),l(D,null,{header:n(()=>[i("h2",q,O(o.new?"New":"Edit")+" Project",1)]),default:n(()=>[i("div",T,[i("div",W,[i("form",{onSubmit:I(P,["prevent"]),class:"flex flex-col gap-4 p-4"},[i("div",null,[l(M,{for:"skills",class:"typo__label"},{default:n(()=>t[6]||(t[6]=[c("Select Skill",-1)])),_:1,__:[6]}),i("div",null,[l($,{density:"compact",modelValue:a(e).skills,"onUpdate:modelValue":t[0]||(t[0]=r=>a(e).skills=r),items:o.skills,"item-title":"name","item-value":"id",multiple:"",chips:""},null,8,["modelValue","items"]),l(p,{class:"mt-2",message:s.$page.props.errors.skills},null,8,["message"])])]),i("div",null,[l(d,{density:"compact",modelValue:a(e).name,"onUpdate:modelValue":t[1]||(t[1]=r=>a(e).name=r),label:"Name"},null,8,["modelValue"]),l(p,{class:"mt-2",message:s.$page.props.errors.name},null,8,["message"])]),i("div",null,[l(d,{density:"compact",modelValue:a(e).description,"onUpdate:modelValue":t[2]||(t[2]=r=>a(e).description=r),label:"Description"},null,8,["modelValue"]),l(p,{class:"mt-2",message:s.$page.props.errors.description},null,8,["message"])]),i("div",null,[l(d,{density:"compact",modelValue:a(e).project_url,"onUpdate:modelValue":t[3]||(t[3]=r=>a(e).project_url=r),label:"URL"},null,8,["modelValue"]),l(p,{class:"mt-2",message:s.$page.props.errors.project_url},null,8,["message"])]),i("div",null,[l(B,{density:"compact",label:"Logo",height:"255",src:w.value},null,8,["src"])]),i("div",null,[l(L,{density:"compact",label:a(e).active?"Active":"Inactive",modelValue:a(e).active,"onUpdate:modelValue":t[4]||(t[4]=r=>a(e).active=r),selected:a(e).active,"hide-details":""},null,8,["label","modelValue","selected"])]),i("div",null,[l(N,{type:"file",accept:"image/*",label:"Project Photo",onInput:t[5]||(t[5]=r=>U(r))}),l(p,{class:"mt-2",message:s.$page.props.errors.image},null,8,["message"])]),i("div",z,[l(h,{href:s.route("projects.index")},{default:n(()=>[l(g,{type:"button"},{default:n(()=>t[7]||(t[7]=[c("Cancel",-1)])),_:1,__:[7]})]),_:1},8,["href"]),o.new?(u(),b(g,{key:0,class:"ms-4"},{default:n(()=>t[8]||(t[8]=[c("Create",-1)])),_:1,__:[8]})):(u(),b(g,{key:1,class:"ms-4"},{default:n(()=>t[9]||(t[9]=[c("Update",-1)])),_:1,__:[9]}))])],32)])])]),_:1})],64)}}};export{ee as default};
