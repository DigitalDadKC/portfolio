import{g as i,s as m,l as S,q as k,i as f,j as $,o as p,w as j,a,d as e,b as c,h as O,k as B,c as _,F as D,r as U,t as r,f as b}from"./app-B36-XCD0.js";import{_ as F}from"./EstimatingLayout-D_4DmskC.js";import x from"./ManageCustomer-CiQSXMp_.js";import M from"./DeleteCustomer-MSMGMJYV.js";import"./NavLink-BrQt31dZ.js";import"./GuestLayout-C970xYKx.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./PrimaryButton-CEhAluKe.js";import"./SecondaryButton-BY0miM6g.js";import"./DangerButton-aoGgiAsu.js";const N={class:"container mx-auto"},E={colspan:"6",class:"text-2xl text-center py-4"},I={class:"uppercase bg-light-primary"},T={class:"divide-y divide-light-secondary text-center"},q={class:"py-2 px-4"},X={__name:"Customers",props:{customers:Object,states:Object,filtered_states:Object,filters:Object},setup(y){const l=y,o=i(l.filters.search),n=i(l.filters.order),u=i(l.filters.state),v=m(()=>[{id:null,state:"Select"},...l.states]),w=m(()=>[{id:null,state:"Select"},...l.filtered_states]),C={id:null,name:"",state:{id:null,abbr:"",state:""}};S(()=>n.value,()=>{d()});const d=()=>{k.reload({data:{search:o.value,order:n.value,state:u.value},only:["customers","filters"],replace:!0})},V=m(()=>n.value=="desc"?"mdi-arrow-up-box":"mdi-arrow-down-box");return(L,t)=>{const Y=f("v-text-field"),g=f("v-select");return p(),$(F,null,{default:j(()=>[a(c(O),{title:"Customers"}),e("table",N,[e("thead",null,[e("tr",null,[e("th",E,[t[5]||(t[5]=B(" CUSTOMERS",-1)),a(x,{new:!0,customer:C,states:v.value},null,8,["states"])])]),e("tr",I,[e("th",null,[a(Y,{modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=s=>o.value=s),density:"compact","hide-details":"",label:"Search customers...","prepend-inner-icon":V.value,"onClick:prependInner":t[1]||(t[1]=s=>n.value=n.value=="asc"?"desc":"asc"),onInput:t[2]||(t[2]=s=>d())},null,8,["modelValue","prepend-inner-icon"])]),e("th",null,[a(g,{modelValue:u.value,"onUpdate:modelValue":[t[3]||(t[3]=s=>u.value=s),t[4]||(t[4]=s=>d())],density:"compact","hide-details":"auto",items:w.value,"item-title":"state","item-value":"id",label:"State"},null,8,["modelValue","items"])]),t[6]||(t[6]=e("th",null,"Created",-1)),t[7]||(t[7]=e("th",null,"Updated",-1)),t[8]||(t[8]=e("th",{colspan:"2"},null,-1))])]),e("tbody",T,[(p(!0),_(D,null,U(l.customers,(s,h)=>(p(),_("tr",{key:h},[e("td",q,r(s.name),1),e("td",null,r(s.state.state),1),e("td",null,r(c(b)(s.created_at,"M.D.YYYY")),1),e("td",null,r(c(b)(s.updated_at,"M.D.YYYY")),1),e("td",null,[a(x,{new:!1,customer:s,states:v.value},null,8,["customer","states"])]),e("td",null,[a(M,{customer:s},null,8,["customer"])])]))),128))])])]),_:1})}}};export{X as default};
